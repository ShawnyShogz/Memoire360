{"version":3,"file":"static/js/841.af6b78d4.chunk.js","mappings":"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","sources":["components/ImageModal/ImageModal.jsx","pages/photoGallery/PhotoGallery.jsx"],"sourcesContent":["import { BsArrowLeftShort, BsArrowRightShort } from 'react-icons/bs';\nimport {GrClose} from 'react-icons/gr';\nimport \"./ImageModal.css\"\n\nconst ImageModal = ({\n    clickedImg,\n    setClickedImg,\n    handelRotationRight,\n    handelRotationLeft,\n    imgPresent\n  }) => {\n    const handleClick = (e) => {\n      if (e.target.classList.contains(\"dismiss\")) {\n        setClickedImg(null);\n      }\n    };\n  \n    return (\n      <>\n        <div className=\"overlay dismiss\" onClick={handleClick}>\n          {/* {clickedImg?   : ''} */}\n          {imgPresent? <img src={clickedImg} alt=\"bigger pic\" /> : <video muted={true} loop controls={true} autoPlay={true} src={clickedImg} alt=\"bigger1 pic\" />}\n          <span className=\"dismiss\">\n          <GrClose className=\"close dismiss\" onClick={handleClick}/>\n          </span>\n          \n          \n          <BsArrowLeftShort onClick={handelRotationLeft} className=\"overlay-arrows_left\"/>\n          <BsArrowRightShort onClick={handelRotationRight} className=\"overlay-arrows_right\"/>\n          \n        </div>\n      </>\n    );\n  };\n  \n  export default ImageModal;\n  ","import React from 'react'\nimport { useState, useEffect } from 'react';\nimport Amplify, { Storage } from 'aws-amplify';\nimport { LazyLoadImage } from 'react-lazy-load-image-component';\nimport { Navbar } from '../../components';\nimport './PhotoGallery.css';\nimport ImageModal from '../../components/ImageModal/ImageModal';\nimport images from '../../constants/images';\n\n\nconst PhotoGallery = () => {\n    const [clickedImg, setClickedImg] = useState(null);\n    const [currentIndex, setCurrentIndex] = useState(null);\n    const [files, setFiles] = useState([]);\n    const [media, setMedia] = useState(null);\n\n    useEffect(() => {\n      Amplify.configure({\n        Auth: {\n          identityPoolId: \"eu-west-2:5d0419b9-902a-4818-88b0-89178d0a9e7d\",\n          region: \"eu-west-2\",\n        },\n  \n        Storage: {\n          AWSS3: {\n            bucket: \"memoire360bucket\",\n            region: \"eu-west-2\",\n          },\n        },\n      });\n    }, []);\n  \n    const loadImages = () => {\n      Storage.list(\"\")\n        .then((files) => {\n          // console.log(files);\n          setFiles(files);\n        }).then()\n        .catch((err) => {\n          console.log(err);\n        });    \n    }\n  \n    useEffect(() => {\n      loadImages();\n     }, []);\n\n\n\n    const handleClick = (file, index) => {\n        setCurrentIndex(index);\n        {file.key ? setClickedImg(`https://memoire360bucket.s3.eu-west-2.amazonaws.com/public/${file.key}`): setClickedImg(file.key);}\n        setMedia('media')     \n      };\n\n      const handleVideoClick = (file, index) => {\n        setCurrentIndex(index);\n        {file.key ? setClickedImg(`https://memoire360bucket.s3.eu-west-2.amazonaws.com/public/${file.key}`): setClickedImg(file.key);}\n          setMedia(null)\n      };\n      \n\n    const isImage = (file) => {\n      return file.key.includes(\"JPG\");\n    }\n\nconst handelRotationRight = () => {\n    const totalLength = files.length;\n    if (currentIndex + 1 >= totalLength) {\n      setCurrentIndex(0);\n      const newUrl = `https://memoire360bucket.s3.eu-west-2.amazonaws.com/public/${files[0].key}`;\n      \n      if(isImage(files[0])){\n        setMedia('media')\n      }else{\n        setMedia(null)\n      }\n      setClickedImg(newUrl);\n      return;\n    }\n    const newIndex = currentIndex + 1;\n    const newUrl = files.filter((item) => {\n      return files.indexOf(item) === newIndex;\n    });\n    if(isImage(newUrl[0])){\n      setMedia('media')\n    }else{\n      setMedia(null)\n    }\n    \n     const newItem = `https://memoire360bucket.s3.eu-west-2.amazonaws.com/public/${newUrl[0].key}`;\n    setClickedImg(newItem);\n    setCurrentIndex(newIndex);\n  };\n\n  const handelRotationLeft = () => {\n    const totalLength = files.length;\n    if (currentIndex === 0) {\n      setCurrentIndex(totalLength - 1);\n      const newUrl = `https://memoire360bucket.s3.eu-west-2.amazonaws.com/public/${files[totalLength - 1].key}`;\n\n      if(isImage(files[totalLength - 1])){\n        setMedia('media')\n      }else{\n        setMedia(null)\n      }\n\n      setClickedImg(newUrl);\n      return;\n    }\n    const newIndex = currentIndex - 1;\n    const newUrl = files.filter((item) => {\n      return files.indexOf(item) === newIndex;\n    });\n\n    if(isImage(newUrl[0])){\n      setMedia('media')\n    }else{\n      setMedia(null)\n    }\n    const newItem = `https://memoire360bucket.s3.eu-west-2.amazonaws.com/public/${newUrl[0].key}`;\n    setClickedImg(newItem);\n    setCurrentIndex(newIndex);\n  };\n\n  return (\n      <>\n       <Navbar />\n       <div className=\"app__bg \">\n\n       <div className=\"gallery\">\n        {files.map((file, i) => (\n          <div key={i} className=\"media\">\n            {isImage(file) ? <LazyLoadImage \n            src={`https://memoire360bucket.s3.eu-west-2.amazonaws.com/public/${file.key}`}\n            loading=\"lazy\"\n            alt=\"\"\n            style={{width:'100%'}}\n            onClick={() => handleClick(file, i)}\n            placeholderSrc={images.memoire360}\n            />\n            :\n            <video\n            src={`https://memoire360bucket.s3.eu-west-2.amazonaws.com/public/${file.key}`}\n            type=\"video/mp4\"\n            loop\n            style={{width:'100%'}}\n            muted\n            onClick={() => handleVideoClick(file, i)}/>}\n          </div>\n        ))}\n        <div>\n        {clickedImg && (\n          <ImageModal\n            clickedImg={clickedImg}\n            handelRotationRight={handelRotationRight}\n            setClickedImg={setClickedImg}\n            handelRotationLeft={handelRotationLeft}\n            imgPresent={media}\n          />\n        )}\n      </div>\n      </div>\n     \n    </div>\n    </>\n  )\n}\n\nexport default PhotoGallery"],"names":["clickedImg","setClickedImg","handelRotationRight","handelRotationLeft","imgPresent","handleClick","e","target","classList","contains","className","onClick","src","alt","muted","loop","controls","autoPlay","useState","currentIndex","setCurrentIndex","files","setFiles","media","setMedia","useEffect","Amplify","Auth","identityPoolId","region","Storage","AWSS3","bucket","then","catch","err","console","log","isImage","file","key","includes","map","i","LazyLoadImage","loading","style","width","index","placeholderSrc","images","type","handleVideoClick","totalLength","length","newUrl","newIndex","filter","item","indexOf","newItem"],"sourceRoot":""}